<h2 class="text-center mb-4 titulo-producto">Nuevo Producto</h2>

<form [formGroup]="productoForm" class="row g-3 justify-content-center">

  <div class="row">
    <div class="col-md-4">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Código Principal</mat-label>
        <input matInput formControlName="codigo_principal" />
        <mat-error *ngIf="productoForm.get('codigo_principal')?.invalid && productoForm.get('codigo_principal')?.touched">
          Campo requerido
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Código Auxiliar</mat-label>
        <input matInput formControlName="codigo_auxiliar" />
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Tipo de Ítem</mat-label>
        <mat-select formControlName="tipo_item">
          <mat-option value="producto">Producto</mat-option>
          <mat-option value="servicio">Servicio</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="nombre" />
      </mat-form-field>
    </div>
    <div class="col-md-6">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Descripción</mat-label>
        <textarea matInput formControlName="descripcion" rows="2"></textarea>
      </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Precio Unitario</mat-label>
        <input matInput type="number" formControlName="precio_unitario" />
      </mat-form-field>
    </div>
    <div class="col-md-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Stock</mat-label>
        <input matInput type="number" formControlName="stock" />
      </mat-form-field>
    </div>
    <div class="col-md-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Unidad</mat-label>
        <mat-select formControlName="id_unidad">
          <mat-option *ngFor="let unidad of unidades" [value]="unidad._id">{{ unidad.nombre }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-md-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Categoría</mat-label>
        <mat-select formControlName="id_categoria">
          <mat-option *ngFor="let categoria of categorias" [value]="categoria._id">{{ categoria.nombre }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <div class="col-md-6">
    <mat-form-field appearance="fill" class="w-100">
      <mat-label>Impuestos</mat-label>
      <mat-select multiple formControlName="id_impuestos">
        <mat-option *ngFor="let imp of impuestos" [value]="imp._id">{{ imp.nombre }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
 

  <div class="col-12 mt-3 text-center">
    <button mat-raised-button color="primary" type="submit" [disabled]="productoForm.invalid">
      Guardar Producto
    </button>
  </div>
</form>
