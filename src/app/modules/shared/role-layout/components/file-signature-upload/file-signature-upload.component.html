<div class="modal-body p-4">
  <h3 class="mb-3 text-center">Subir Firma Electrónica</h3>

  <!-- Drag & Drop -->
  <div
    class="dropzone border rounded p-4 text-center mb-3"
    [class.dragover]="isDragging"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
  >
    <p *ngIf="!selectedFile">Arrastra tu archivo aquí o haz clic para seleccionarlo</p>
    <p *ngIf="selectedFile"><strong>{{ selectedFile.name }}</strong> seleccionado</p>
    <input
      type="file"
      class="d-none"
      #fileInput
      (change)="onFileSelected($event)"
      accept=".p12,.pfx"
    />
    <button mat-stroked-button color="primary" (click)="fileInput.click()">Seleccionar archivo</button>
  </div>

  <!-- Contraseña -->
  <mat-form-field appearance="outline" class="w-100 mb-3">
    <mat-label>Contraseña de la firma</mat-label>
    <input matInput type="password" [(ngModel)]="password" required />
  </mat-form-field>

  <!-- Botones -->
  <div class="d-flex justify-content-end gap-2">
    <button mat-button (click)="onCancel()">Cancelar</button>
    <button
      mat-flat-button
      color="primary"
      (click)="onUpload()"
      [disabled]="!selectedFile || !password"
    >
      Subir
    </button>
  </div>
</div>
